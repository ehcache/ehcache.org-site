<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->

  <link rel="shortcut icon"  type="image/x-icon" href="/images/favicon.ico">
  <link rel="icon" type="image/x-icon" href="/images/favicon.ico">

  <title>Ehcache</title>

  <meta name="description" content="Java's most widely used cache.">

  <link rel="canonical" href="http://www.ehcache.org/documentation/2.7/get-started/getting-started.html">
  <link href="/feed.xml" type="application/atom+xml" rel="alternate" title="Ehcache Feed">


  <!-- Fonts -->
  <link href='http://fonts.googleapis.com/css?family=Lato:300,400,300italic,400italic' rel='stylesheet' type='text/css'>
  <link href='http://fonts.googleapis.com/css?family=Montserrat:400,700' rel='stylesheet' type='text/css'>

  <!-- Global CSS -->

  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css">

  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.5/spacelab/bootstrap.min.css">


<!--
  <link rel="stylesheet" href="/plugins/highlight/styles/idea.css">
  <script src="/plugins/highlight/highlight.pack.js"></script>
  <script>hljs.initHighlightingOnLoad();</script>
-->

  <script src="https://cdn.rawgit.com/google/code-prettify/master/loader/run_prettify.js"></script>
  <script src="https://cdn.rawgit.com/google/code-prettify/master/loader/prettify.css"></script>

  <link rel="stylesheet" href="/css/main.css">

<!--
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prettify/r298/prettify.min.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/prettify/r298/prettify.min.js"></script>
  <script>document.addEventListener('DOMContentLoaded', prettyPrint)</script>
-->

  <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
  <![endif]-->

  
    <script>
    
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-131151-10', 'auto');
    ga('send', 'pageview');


    </script>
  
</head>


  <body>

    

    <!-- Fixed navbar -->
    <nav class="navbar navbar-default navbar-fixed-top">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="site-title" href="/"><img src="/images/ehcache.png" style="margin-top:15px;margin-bottom:6px;"/></a>
          <span style="vertical-align:bottom;color:gray;">By</span>
          <a class="SAG-Logo" href="https://www.softwareag.com/corporate/products/az/terracotta_ehcache/default.html"><img src="/images/SAG_Logo.png" style="margin-top:12px;margin-bottom:6px;height:1.5em;width:9em;"/></a>
        </div>
        <div id="navbar" class="navbar-collapse collapse">
          <ul class="nav navbar-nav">
            <li id="ehc_mnu_about"><a href="/about/"><i class="fa fa-info-circle"></i> About</a></li>
            <li id="ehc_mnu_docs"><a href="/documentation/"><i class="fa fa-book"></i> Docs</a></li>
            <li id="ehc_mnu_download"><a href="/downloads/"><i class="fa fa-download"></i> Download</a></li>
            <li id="ehc_mnu_community" class="dropdown">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false"><i class="fa fa-users"></i> Community <span class="caret"></span></a>
              <ul class="dropdown-menu">
                <li class="dropdown-header">We Love Contributors</li>
                <li><a href="/community/contribute.html"><i class="fa fa-code"></i> Contributing</a></li>
                <li><a href="/resources/"><i class="fa fa-external-link-square"></i> External Resources</a></li>
                <li><a href="http://blog.terracotta.org" target="_blank"><i class="fa fa-rss-square"></i> Terracotta Blog</a></li>
                <li role="separator" class="divider"></li>
                <li class="dropdown-header">Forums</li>
                <li><a href="https://groups.google.com/forum/#!forum/ehcache-users" target="_blank"><i class="fa fa-commenting"></i> Users' Forum</a></li>
                <li><a href="https://groups.google.com/forum/#!forum/ehcache-dev" target="_blank"><i class="fa fa-commenting"></i> Developers' Forum</a></li>
                <li role="separator" class="divider"></li>
                <li class="dropdown-header">Source Code</li>
                <li><a href="https://github.com/ehcache/ehcache3" target="_blank"><i class="fa fa-github"></i> GitHub  (Ehcache 3)</a></li>
                <li><a href="http://svn.terracotta.org/svn/ehcache/trunk" target="_blank"><i class="fa fa-code-fork"></i> SVN  (Ehcache 2)</a></li>
                <li role="separator" class="divider"></li>
                <li class="dropdown-header">Bug Tracking</li>
                <li><a href="https://github.com/ehcache/ehcache3/issues" target="_blank"><i class="fa fa-bug"></i> GitHub  (Ehcache 3)</a></li>
                <li><a href="https://jira.terracotta.org/jira/browse/EHC" target="_blank"><i class="fa fa-bug"></i> Jira  (Ehcache 2)</a></li>
              </ul>
            </li>
          </ul>
          <ul class="nav navbar-nav navbar-right">
            <li id="ehc_mnu_events"><a href="/events"><i class="fa fa-calendar"></i> News & Events</a></li>
            <li><a href="/blog"><i class="fa fa-rss-square"></i> Ehcache Blog</a></li>
          </ul>
        </div><!--/.nav-collapse -->
      </div>
    </nav>

<br/>
<br/>
<br/>


    <div class="container-fluid">
      <div id="contentTitle">
        <h1></h1>
      </div>
      <div>
        <br/>

<div class="container-fluid">

  <div class="row row-offcanvas row-offcanvas-left">

    <!-- sidebar -->
    <div class="col-xs-6 col-sm-3 sidebar-offcanvas" id="sidebar" role="navigation">
        <ul class="nav">
          <li class="submenu"><a href="/documentation/2.7/index.html">Docs Overview</a></li>
          <li class="submenu"><a href="/documentation/2.7/get-started/index.html">Getting Started</a></li>
          <li class="submenu"><a href="/documentation/2.7/configuration/index.html">Configuration</a></li>
          <li class="submenu"><a href="/documentation/2.7/bigmemory/index.html">BigMemory</a></li>
          <li class="submenu"><a href="/documentation/2.7/arc/index.html">Auto Resource Control (ARC)</a></li>
          <li class="submenu"><a href="/documentation/2.7/apis/index.html">APIs</a></li>
          <li class="submenu"><a href="/documentation/2.7/operations/index.html">Operations</a></li>
          <li class="submenu"><a href="/documentation/2.7/replication/index.html">Replication</a></li>
          <li class="submenu"><a href="/documentation/2.7/modules/index.html">Modules</a></li>
          <li class="submenu"><a href="/documentation/2.7/integrations/index.html">Integrations</a></li>
          <li class="submenu"><a href="/documentation/2.7/recipes/index.html">Recipes</a></li>
          <li class="submenu"><a href="/documentation/2.7/code-samples.html">Code Samples</a></li>
          <li class="submenu"><a href="/documentation/2.7/faq.html">FAQ</a></li>
          <li class="submenu"><a href="/apidocs/2.7.6/index.html" target="_blank">JavaDoc</a></li>
        </ul>
    </div>

    <!-- main area -->

    <div class="col-xs-12 col-sm-9">
      <header class="post-header">
        
        <h1 class="post-title"></h1>
        <hr/>
        
      </header>
      <article class="post-content">
        <h1 id="using-ehcache">Using Ehcache</h1><div id="toc-container">
   <table class="toc" id="toc">
      <tbody>
         <tr>
            <td>
               <ul>
                  <li class="toc_level-1 toc_section-1">
                     <a href="#using-ehcache">
                        <span class="toctext">Using Ehcache</span>
                     </a>
                     <ul>
                        <li class="toc_level-2 toc_section-2">
                           <a href="#introduction">
                              <span class="toctext">Introduction</span>
                           </a>
                        </li>
                        <li class="toc_level-2 toc_section-3">
                           <a href="#general-purpose-caching">
                              <span class="toctext">General-Purpose Caching</span>
                           </a>
                        </li>
                        <li class="toc_level-2 toc_section-4">
                           <a href="#cache-usage-patterns">
                              <span class="toctext">Cache Usage Patterns</span>
                           </a>
                        </li>
                        <li class="toc_level-2 toc_section-5">
                           <a href="#specific-technologies">
                              <span class="toctext">Specific Technologies</span>
                           </a>
                        </li>
                     </ul>
                  </li>
               </ul>
            </td>
         </tr>
      </tbody>
   </table>
</div>

<h2 id="introduction">Introduction</h2>
<p>Ehcache can be used directly. It also supports use with the popular Hibernate Object/Relational tool and caching with the Java EE Servlet. This page is a quick guide to get you started. The rest of the documentation can be explored for a deeper understanding.</p>

<h2 id="general-purpose-caching">General-Purpose Caching</h2>

<ul>
  <li>
    <p>Download <a href="http://ehcache.org/downloads">Ehcache ›</a></p>

    <p>Beginning with Ehcache 1.7.1, Ehcache
depends on SLF4J (<a href="http://www.slf4j.org">http://www.slf4j.org</a>) for logging. SLF4J is a logging framework with a choice of concrete logging implementations. See the chapter on Logging for configuration details.</p>
  </li>
  <li>Use Java 1.5 or 1.6.</li>
  <li>Place the Ehcache jar into your classpath.</li>
  <li>Configure ehcache.xml and place it in your classpath.</li>
  <li>Optionally, configure an appropriate <a href="/documentation/2.7/operations/logging">logging</a> level.
See the <a href="/documentation/2.7/recipes">Code Samples</a> chapter for more information on direct interaction with ehcache.</li>
</ul>

<h2 id="cache-usage-patterns">Cache Usage Patterns</h2>

<p>There are several common access patterns when using a cache.  Ehcache
supports the following patterns:</p>

<ul>
  <li>cache-aside (or direct manipulation)</li>
  <li>cache-as-sor (a combination of read-through and write-through or write-behind patterns)</li>
  <li>read-through</li>
  <li>write-through</li>
  <li>write-behind (or write-back)</li>
</ul>

<h3 id="cache-aside">cache-aside</h3>
<p>Here, application code uses the cache directly.</p>

<p>This means that application code which accesses the <a href="#system-of-record">system-of-record</a>
(SOR) should consult the cache first, and if the cache contains the data, then return the data directly from the cache, bypassing the SOR.</p>

<p>Otherwise, the application code must fetch the data from the
system-of-record, store the data in the cache, and then return it.</p>

<p>When data is written, the cache must be updated with the system-of-record.
This results in code that often looks like the following pseudo-code:</p>

<div class="language-java highlighter-rouge">
   <div class="highlight">
      <pre class="highlight">
         <code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">MyDataAccessClass</span>
<span class="o">{</span>
  <span class="kd">private</span> <span class="kd">final</span> <span class="n">Ehcache</span> <span class="n">cache</span><span class="o">;</span>
  <span class="kd">public</span> <span class="nf">MyDataAccessClass</span><span class="o">(</span><span class="n">Ehcache</span> <span class="n">cache</span><span class="o">)</span>
  <span class="o">{</span>
    <span class="k">this</span><span class="o">.</span><span class="na">cache</span> <span class="o">=</span> <span class="n">cache</span><span class="o">;</span>
  <span class="o">}</span>

  <span class="cm">/* read some data, check cache first, otherwise read from sor */</span>
  <span class="kd">public</span> <span class="n">V</span> <span class="nf">readSomeData</span><span class="o">(</span><span class="n">K</span> <span class="n">key</span><span class="o">)</span>
  <span class="o">{</span>
     <span class="n">Element</span> <span class="n">element</span><span class="o">;</span>
     <span class="k">if</span> <span class="o">((</span><span class="n">element</span> <span class="o">=</span> <span class="n">cache</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">key</span><span class="o">))</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
         <span class="k">return</span> <span class="n">element</span><span class="o">.</span><span class="na">getValue</span><span class="o">();</span>
     <span class="o">}</span>
      <span class="c1">// note here you should decide whether your cache</span>
     <span class="c1">// will cache 'nulls' or not</span>
     <span class="k">if</span> <span class="o">(</span><span class="n">value</span> <span class="o">=</span> <span class="n">readDataFromDataStore</span><span class="o">(</span><span class="n">key</span><span class="o">))</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
         <span class="n">cache</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="k">new</span> <span class="n">Element</span><span class="o">(</span><span class="n">key</span><span class="o">,</span> <span class="n">value</span><span class="o">));</span>
     <span class="o">}</span>
     <span class="k">return</span> <span class="n">value</span><span class="o">;</span>
  <span class="o">}</span>
  <span class="cm">/* write some data, write to sor, then update cache */</span>
  <span class="kd">public</span> <span class="kt">void</span> <span class="nf">writeSomeData</span><span class="o">(</span><span class="n">K</span> <span class="n">key</span><span class="o">,</span> <span class="n">V</span> <span class="n">value</span><span class="o">)</span>
  <span class="o">{</span>
     <span class="n">writeDataToDataStore</span><span class="o">(</span><span class="n">key</span><span class="o">,</span> <span class="n">value</span><span class="o">);</span>
     <span class="n">cache</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="k">new</span> <span class="n">Element</span><span class="o">(</span><span class="n">key</span><span class="o">,</span> <span class="n">value</span><span class="o">);</span>
  <span class="o">}</span>
</code>
      </pre>
   </div>
</div>

<h3 id="cache-as-sor">cache-as-sor</h3>

<p>The cache-as-sor pattern implies using the cache as though it
were the primary <a href="#system-of-record">system-of-record</a> (SOR).  The pattern delegates SOR
reading and writing activies to the cache, so that application
code is absolved of this responsibility.</p>

<p>To implement the cache-as-sor pattern, use a combination of the
following read and write patterns:</p>

<ul>
  <li>read-through</li>
  <li>write-through or write-behind</li>
</ul>

<p>Advantages of using the cache-as-sor pattern are:</p>

<ul>
  <li>less cluttered application code (improved maintainability)</li>
  <li>easily choose between write-through or write-behind strategies on a
per-cache basis (use only configuration)</li>
  <li>allow the cache to solve the “thundering-herd” problem</li>
</ul>

<p>A disadvantage of using the cache-as-sor pattern is:</p>

<ul>
  <li>less directly visible code-path</li>
</ul>

<h3 id="read-through">read-through</h3>
<p>The read-through pattern mimics the structure of the cache-aside pattern
when reading data.  The difference is that you must implement the
<code class="highlighter-rouge">CacheEntryFactory</code> interface to instruct the cache how to read
objects on a cache miss, and you must wrap the Ehcache instance with
an instance of <code class="highlighter-rouge">SelfPopulatingCache</code>.
Compare the appearance of the read-through pattern code to the
code provided in the cache-aside pattern.  (The full example is
provided at the end of this document that includes a read-through
and write-through implementation).</p>

<h3 id="write-through">write-through</h3>
<p>The write-through pattern mimics the structure of the cache-aside pattern
when writing data.  The difference is that you must implement the
<code class="highlighter-rouge">CacheWriter</code> interface and configure the cache for write-through
or write-behind.
A write-through cache writes data to the system-of-record in the same
thread of execution, therefore in the common scenario of using a database
transaction in context of the thread, the write to the database is covered
by the transaction in scope.
More details (including configuration settings) can be found in the User
Guide chapter on
<a href="/documentation/2.7/apis/write-through-caching">Write-through and Write-behind Caching</a>.</p>

<h3 id="write-behind">write-behind</h3>
<p>The write-behind pattern changes the timing of the write to the
system-of-record. Rather than writing to the System of Record in the
same thread of execution, write-behind queues the data for write at a
later time.</p>

<p>The consequences of the change from write-through to write-behind are that
the data write using write-behind will occur outside of the scope of the
transaction.</p>

<p>This often-times means that a new transaction must be created to commit
the data to the system-of-record that is separate from the main transaction.
More details (including configuration settings) can be found in the User
Guide chapter on <a href="/documentation/2.7/apis/write-through-caching">Write-through and Write-behind Caching</a>.</p>

<h3 id="cache-as-sor-example">cache-as-sor example</h3>

<div class="language-java highlighter-rouge">
   <div class="highlight">
      <pre class="highlight">
         <code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">MyDataAccessClass</span> <span class="o">{</span>
  <span class="kd">private</span> <span class="kd">final</span> <span class="n">Ehcache</span> <span class="n">cache</span><span class="o">;</span>

  <span class="kd">public</span> <span class="nf">MyDataAccessClass</span><span class="o">(</span><span class="n">Ehcache</span> <span class="n">cache</span><span class="o">)</span>
  <span class="o">{</span>
     <span class="n">cache</span><span class="o">.</span><span class="na">registerCacheWriter</span><span class="o">(</span><span class="k">new</span> <span class="n">MyCacheWriter</span><span class="o">());</span>
     <span class="k">this</span><span class="o">.</span><span class="na">cache</span> <span class="o">=</span> <span class="k">new</span> <span class="n">SelfPopulatingCache</span><span class="o">(</span><span class="n">cache</span><span class="o">);</span>
  <span class="o">}</span>

  <span class="cm">/* read some data - notice the cache is treated as an SOR.
  * the application code simply assumes the key will always be available
  */</span>
  <span class="kd">public</span> <span class="n">V</span> <span class="nf">readSomeData</span><span class="o">(</span><span class="n">K</span> <span class="n">key</span><span class="o">)</span>
  <span class="o">{</span>
     <span class="k">return</span> <span class="n">cache</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">key</span><span class="o">);</span>
  <span class="o">}</span>

  <span class="cm">/* write some data - notice the cache is treated as an SOR, it is
  * the cache's responsibility to write the data to the SOR.
  */</span>
  <span class="kd">public</span> <span class="kt">void</span> <span class="nf">writeSomeData</span><span class="o">(</span><span class="n">K</span> <span class="n">key</span><span class="o">,</span> <span class="n">V</span> <span class="n">value</span><span class="o">)</span>
  <span class="o">{</span>
     <span class="n">cache</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="k">new</span> <span class="n">Element</span><span class="o">(</span><span class="n">key</span><span class="o">,</span> <span class="n">value</span><span class="o">);</span>
  <span class="o">}</span>

  <span class="cm">/**
  * Implement the CacheEntryFactory that allows the cache to provide
  * the read-through strategy
  */</span>
  <span class="kd">private</span> <span class="kd">class</span> <span class="nc">MyCacheEntryFactory</span> <span class="kd">implements</span> <span class="n">CacheEntryFactory</span>
  <span class="o">{</span>
     <span class="kd">public</span> <span class="n">Object</span> <span class="nf">createEntry</span><span class="o">(</span><span class="n">Object</span> <span class="n">key</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">Exception</span>
     <span class="o">{</span>
         <span class="k">return</span> <span class="nf">readDataFromDataStore</span><span class="o">(</span><span class="n">key</span><span class="o">);</span>
     <span class="o">}</span>
  <span class="o">}</span>

  <span class="cm">/**
  * Implement the CacheWriter interface which allows the cache to provide
  * the write-through or write-behind strategy.
  */</span>
  <span class="kd">private</span> <span class="kd">class</span> <span class="nc">MyCacheWriter</span> <span class="kd">implements</span> <span class="n">CacheWriter</span> <span class="o">{</span>
     <span class="kd">public</span> <span class="n">CacheWriter</span> <span class="nf">clone</span><span class="o">(</span><span class="n">Ehcache</span> <span class="n">cache</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">CloneNotSupportedException</span><span class="o">;</span>
     <span class="o">{</span>
         <span class="k">throw</span> <span class="k">new</span> <span class="nf">CloneNotSupportedException</span><span class="o">();</span>
     <span class="o">}</span>
      <span class="kd">public</span> <span class="kt">void</span> <span class="nf">init</span><span class="o">()</span> <span class="o">{</span> <span class="o">}</span>
     <span class="kt">void</span> <span class="nf">dispose</span><span class="o">()</span> <span class="kd">throws</span> <span class="n">CacheException</span> <span class="o">{</span> <span class="o">}</span>
      <span class="kt">void</span> <span class="nf">write</span><span class="o">(</span><span class="n">Element</span> <span class="n">element</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">CacheException</span><span class="o">;</span>
     <span class="o">{</span>
         <span class="n">writeDataToDataStore</span><span class="o">(</span><span class="n">element</span><span class="o">.</span><span class="na">getKey</span><span class="o">(),</span> <span class="n">element</span><span class="o">.</span><span class="na">getValue</span><span class="o">());</span>
     <span class="o">}</span>
      <span class="kt">void</span> <span class="nf">writeAll</span><span class="o">(</span><span class="n">Collection</span><span class="o">&lt;</span><span class="n">Element</span><span class="o">&gt;</span> <span class="n">elements</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">CacheException</span>
     <span class="o">{</span>
         <span class="k">for</span> <span class="o">(</span><span class="n">Element</span> <span class="n">element</span> <span class="o">:</span> <span class="n">elements</span><span class="o">)</span> <span class="o">{</span>
             <span class="n">write</span><span class="o">(</span><span class="n">element</span><span class="o">);</span>
         <span class="o">}</span>
     <span class="o">}</span>
      <span class="kt">void</span> <span class="nf">delete</span><span class="o">(</span><span class="n">CacheEntry</span> <span class="n">entry</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">CacheException</span>
     <span class="o">{</span>
         <span class="n">deleteDataFromDataStore</span><span class="o">(</span><span class="n">element</span><span class="o">.</span><span class="na">getKey</span><span class="o">());</span>
     <span class="o">}</span>
      <span class="kt">void</span> <span class="nf">deleteAll</span><span class="o">(</span><span class="n">Collection</span><span class="o">&lt;</span><span class="n">CacheEntry</span><span class="o">&gt;</span> <span class="n">entries</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">CacheException</span>
     <span class="o">{</span>
         <span class="k">for</span> <span class="o">(</span><span class="n">Element</span> <span class="n">element</span> <span class="o">:</span> <span class="n">elements</span><span class="o">)</span> <span class="o">{</span>
             <span class="n">delete</span><span class="o">(</span><span class="n">element</span><span class="o">);</span>
         <span class="o">}</span>
     <span class="o">}</span>
  <span class="o">}</span>
<span class="o">}</span>
</code>
      </pre>
   </div>
</div>

<h3 id="copy-cache">Copy Cache</h3>
<p>A Copy Cache can have two behaviors: it can copy Element instances it returns, when <code class="highlighter-rouge">copyOnRead</code> is true and copy elements it stores,
when  <code class="highlighter-rouge">copyOnWrite</code> to true.</p>

<p>A copy on read cache can be useful when you can’t let multiple threads access the same Element instance (and the
value it holds) concurrently. For example, where the programming model doesn’t allow it, or you want to isolate changes done concurrently from
each other.</p>

<p>Copy on write also lets you determine exactly what goes in the cache and when. i.e. when the value that will be in the cache will be
in state it was when it actually was put in cache. <em>All mutations to the value, or the element, after the put operation will not be
reflected in the cache</em>.</p>

<p>A concrete example of a copy cache is a Cache configured for <code class="highlighter-rouge">XA</code>. It will always be configured <code class="highlighter-rouge">copyOnRead</code> and <code class="highlighter-rouge">copyOnWrite</code> to provide proper
transaction isolation and clear transaction boundaries (the state the objects are in at commit time is the state making it into the cache).
By default, the copy operation will be performed using standard Java object serialization. We do recognize though that for some
applications this might not be good (or fast) enough. You can configure your own <code class="highlighter-rouge">CopyStrategy</code> which will be used to perform
these copy operations. For example, you could easily implement use cloning rather than Serialization.</p>

<p>More information on configuration can be found here: <a href="/documentation/2.7/configuration/configuration#copyonread-and-copyonwrite-cache-configuration">copyOnRead and copyOnWrite cache configuration</a>.</p>

<h2 id="specific-technologies">Specific Technologies</h2>

<h3 id="distributed-caching">Distributed Caching</h3>
<p>Distributed Ehcache combines the power of the Terracotta platform with the ease of Ehcache application-data caching. Ehcache supports <a href="http://terracotta.org/documentation/2.7/enterprise-ehcache/get-started">distributed caching</a> with two lines of configuration.</p>

<p>By integrating Enterprise Ehcache with the Terracotta platform, you can take advantage of BigMemory and expanded Terracotta Server Arrays to greatly scale your application and cluster.</p>

<p>The distributed-cache documentation covers how to configure Ehcache in a Terracotta cluster and how to use its  API in your application.</p>

<h3 id="hibernate">Hibernate</h3>

<ul>
  <li>Perform the same steps as for general-purpose caching (above).</li>
  <li>Create caches in ehcache.xml.</li>
</ul>

<p>See the <a href="/documentation/2.7/integrations/hibernate">Hibernate Caching</a> chapter for more information.</p>

<h3 id="caching-with-java-ee-servlet">Caching with Java EE Servlet</h3>

<ul>
  <li>Perform the same steps as for general-purpose caching above.</li>
  <li>Configure a cache for your web page in ehcache.xml.</li>
  <li>To cache an entire web page, either use SimplePageCachingFilter or create your own subclass of CachingFilter</li>
  <li>To cache a jsp:Include or anything callable from a RequestDispatcher, either use SimplePageFragmentCachingFilter
or create a subclass of PageFragmentCachingFilter.</li>
  <li>Configure the web.xml. Declare the filters created above and create filter mapping associating the filter with
a URL.</li>
</ul>

<p>See the <a href="/documentation/2.7/modules/web-caching">Web Caching</a> chapter for more information.</p>

<h3 id="restful-and-soap-caching-with-the-cache-server">RESTful and SOAP Caching with the Cache Server</h3>

<ul>
  <li>Download the ehcache-standalone-server from <a href="https://sourceforge.net/projects/ehcache/files/ehcache-server">https://sourceforge.net/projects/ehcache/files/ehcache-server</a>.</li>
  <li>cd to the bin directory</li>
  <li>Type <code class="highlighter-rouge">startup.sh</code> to start the server with the log in the foreground.
By default it will listen on port 8080,
 will have both RESTful and SOAP web services enabled, and will use a sample Ehcache configuration from the WAR module.</li>
  <li>See the <a href="/documentation/2.7/modules/cache-server#restful-code-samples">code samples</a> on the Cache Server page. You can use Java or any other programming language with the Cache Server.</li>
</ul>

<p>See the <a href="/documentation/2.7/modules/cache-server">Cache Server</a> page for more information.</p>

<h3 id="jcache-style-caching">JCache style caching</h3>

<p>Ehcache contains an early draft implementation of JCache contained in the net.sf.ehcache.jcache package.
See the <a href="/documentation/2.7/integrations/jsr107">JSR107</a> chapter for usage.</p>

<h3 id="spring-cocoon-acegi-and-other-frameworks">Spring, Cocoon, Acegi and other frameworks</h3>

<p>Usually, with these, you are using Ehcache without even realising it. The first steps in getting more control over what is happening are:</p>

<ul>
  <li>discover the cache names used by the framework</li>
  <li>create your own ehcache.xml with settings for the caches and place it in the application classpath.</li>
</ul>

      </article>
    </div>

  </div>

</div>

      </div>
    </div>

    <br/>
<footer class="site-footer">

  <div class="container">

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        Related Projects:<br/>
        <a href="http://www.terracotta.org"><img src="/images/Terracotta_Logo_sm.png" style="max-height: 16px;"></a><br/><br/>
        <a href="http://www.quartz-scheduler.org"><img src="/images/logo-quartz-scheduler.png" style="max-height: 20px;"></a>

        <!--
        <ul class="contact-list">
          <li>Ehcache</li>
          <li><a href="mailto:tc-oss@softwareag.com">tc-oss@softwareag.com</a></li>
        </ul>
      -->
      </div>

      <div class="footer-col  footer-col-2">
        <ul class="social-media-list">
          
          <li>
            <a href="https://github.com/ehcache">
              <i class="fa fa-github"></i> GitHub
            </a>
          </li>
          

          
          <li>
            <a href="https://twitter.com/ehcache">
              <i class="fa fa-twitter"></i> Twitter
            </a>
          </li>
          

          
          <li>
            <a href="http://www.facebook.com/Terracotta">
              <i class="fa fa-facebook"></i> Facebook
            </a>
          </li>
          

          
          <li>
            <a href="http://www.linkedin.com/company/terracotta">
              <i class="fa fa-linkedin"></i> LinkedIn
            </a>
          </li>
          

          <li>
            <a href="/feed.xml" title="Atom/RSS Feed">
              <i class="fa fa-rss-square"></i> Atom/RSS Feed
            </a>
          </li>
        </ul>
      </div>

    <div class="footer-col  footer-col-3">
      <a href="/downloads/"><i class="fa fa-download"></i> Download Now</a>
      <br/>
      <a href="/documentation/"><i class="fa fa-book"></i> Documentation</a>
      <br/>
      <a href="/resources/"><i class="fa fa-external-link-square"></i> Resources</a>
      <br/>
      <a href="/blog/"><i class="fa fa-rss-square"></i> Ehcache Blog</a>
      <br/>
      <a href="/community/"><i class="fa fa-users"></i> Join the Community</a>
    </div>

    </div>

    <div class="container-fluid">
        <hr/>
        <a class="SAG-Logo" href="https://www.softwareag.com/corporate/products/az/terracotta_ehcache/default.html"><img src="/images/SAG_Logo.png" style="height:1.5em;width:9em;"/></a>
        <div class="footer-text">
          <em class="copyleft">Ehcache is Open Source and freely available under the Apache 2 License</em>
          <br/>
          <em class="copyright">&copy; Terracotta, Inc., a wholly-owned subsidiary of Software AG USA, Inc. All rights reserved.</em>
        </div>
    </div>
  </div>

</footer>

<!-- Bootstrap core JavaScript
================================================== -->
<!-- Placed at the end of the document so the pages load faster -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
<!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
<script src="https://maxcdn.bootstrapcdn.com/js/ie10-viewport-bug-workaround.js"></script>

<!--  <script type="text/javascript" src="http://cdnjs.cloudflare.com/ajax/libs/jquery-scrollTo/2.1.0/jquery.scrollTo.min.js"/> -->

<script type="text/javascript">
        $('#').addClass("active");
        $('#').addClass("active");
</script>


  </body>

</html>
