<!DOCTYPE html ><html xml:lang="en" lang="en" xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html;charset=utf-8"><meta http-equiv="Content-Style-Type" content="text/css"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><meta http-equiv="X-UA-Compatible" content="IE=edge"><title>Support for Other Transaction Systems</title><link rel="Prev" href="co-tx_transactions_with_write-behind_through.html" title="Previous"><link rel="Next" href="to-writethrough_and_writebehind_caches.html" title="Next"><link rel="StyleSheet" href="css/ehcache_all.css" type="text/css" media="all"><link rel="StyleSheet" href="css/skin.css" type="text/css" media="all"><link rel="StyleSheet" href="css/social.css" type="text/css" media="all"><link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all"><!--[if IE 7]><link rel="StyleSheet" href="css/ehcache_all_IE7.css" type="text/css" media="all"><![endif]--><link rel="StyleSheet" href="css/print.css" type="text/css" media="print"><script type="text/javascript">
    'use strict';

    var redirect_url, page_hash;

    if (window === window.top) {
        // Redirect
        //
        redirect_url = "../index.html#page/Ehcache_Documentation_Set/co-tx_support_for_third_party_prods.html";
        if (window.document.location.hash.length > 1) {
            // Sanitize and append it
            //
            page_hash = window.document.location.hash.substring(1);
            page_hash = page_hash.replace(/[\\><:;"]|%5C|%3C|%3E|%3A|%3B|%22/gi, '');
            redirect_url += '#' + page_hash;
        }
        window.document.location.replace(redirect_url);
    }
</script><script type="text/javascript" src="scripts/common.js"></script><script type="text/javascript" src="scripts/page.js"></script><script type="text/javascript" src="scripts/search-client.js"></script><script type="text/javascript" src="scripts/unidata.js"></script><script type="text/javascript" src="scripts/unibreak.js"></script></head><body id="psFXZEZN377cqNH1R5nFZjA" class="ww_skin_page_body" onload="Page.OnLoad('../index.html#page/Ehcache_Documentation_Set/co-tx_support_for_third_party_prods.html');"><header id="wwconnect_header"><div class="ww_skin_breadcrumbs"><span class="ww_skin_breadcrumbs_parent"><a href="../Ehcache_Documentation_Set/ehcache_all.1.017.html#wwconnect_header">Product Documentation</a></span><span class="ww_skin_breadcrumbs_divider"> : </span><span class="ww_skin_breadcrumbs_parent"><a href="../Ehcache_Documentation_Set/to-title_ehcache_developer_guide.html#wwconnect_header">Ehcache Developer Guide</a></span><span class="ww_skin_breadcrumbs_divider"> : </span><span class="ww_skin_breadcrumbs_parent"><a href="../Ehcache_Documentation_Set/to-tx_transaction_support.html#wwconnect_header">Transaction Support</a></span><span class="ww_skin_breadcrumbs_divider"> : </span><span class="ww_skin_breadcrumbs_current">Support for Other Transaction Systems</span></div><div class="ww_skin_page_toolbar"></div></header><div id="ww3_12_3_19_28_1" class="Heading_3">Support for Other Transaction Systems</div><div id="ww3_12_3_19_28_3_2_2" class="Section_Title">Is IBM WebSphere Transaction Manager supported?</div><div id="ww3_12_3_19_28_3_2_4" class="Body">Mostly. The “xa_strict” mode is not supported due to each version of WebSphere being a custom implementation. That is, it has no stable interface to implement against. However, “xa”, which uses TransactionManager callbacks, and “local” modes are supported.</div><div id="ww3_12_3_19_28_3_2_6" class="Body">When using Spring, make sure your configuration is set up correctly with respect to the PlatformTransactionManager and the WebSphere TM.</div><div id="ww3_12_3_19_28_3_2_8" class="Body">To confirm that <span class="ph">Ehcache</span> will succeed, try to manually register a com.ibm.websphere.jtaextensions.SynchronizationCallback in the com.ibm.websphere.jtaextensions.ExtendedJTATransaction. Get java:comp/websphere/ExtendedJTATransaction from JNDI, cast that to com.ibm.websphere.jtaextensions.ExtendedJTATransaction and call the registerSynchronizationCallbackForCurrentTran method. If you succeed, <span class="ph">Ehcache</span> should too.</div><div id="ww3_12_3_19_28_3_4_2" class="Section_Title">Are Hibernate Transactions Supported?</div><div id="ww3_12_3_19_28_3_4_4" class="Body">Ehcache is a “transactional” cache for Hibernate purposes. The net.sf.ehcache.hibernate.EhCacheRegionFactory supports Hibernate entities configured with <span class="parmname">&lt;cache usage="transactional"/&gt;</span>.</div><div id="ww3_12_3_19_28_3_6_2" class="Section_Title">How Do I Make WebLogic 10 Work with a Transactional Cache?</div><div id="ww3_12_3_19_28_3_6_4" class="Body">WebLogic uses an optimization that is not supported by the Ehcache implementation. By default WebLogic 10 spawns threads to start the transaction on each XAResource in parallel. Because we need transaction work to be performed on the same Thread, you must turn off this optimization by setting the <span class="codeph">parallel-xa-enabled</span> option to false in your domain configuration:</div><div id="ww3_12_3_19_28_3_6_6" class="Preformatted">	&lt;jta&gt; <br>	 &nbsp;&nbsp;... <br>	&nbsp;&nbsp;&nbsp;&lt;checkpoint-interval-seconds&gt;300&lt;/checkpoint-interval-seconds&gt; <br>	&nbsp;&nbsp;&nbsp;&lt;parallel-xa-enabled&gt;false&lt;/parallel-xa-enabled&gt; <br>	&nbsp;&nbsp;&nbsp;&lt;unregister-resource-grace-period&gt;30&lt;/unregister-resource-grace-period&gt; <br>	&nbsp;&nbsp;&nbsp;... <br>	&lt;/jta&gt;&lt;/p&gt;</div><div id="ww3_12_3_19_28_3_8_2" class="Section_Title">How Do I Make Atomikos Work with a Cache in “xa” Mode?</div><div id="ww3_12_3_19_28_3_8_4" class="Body">Atomikos has <span class="external"><a href="http://fogbugz.atomikos.com/default.asp?community.6.802.3" target="external_window">a bug</a></span>, which makes the “xa” mode's normal transaction termination mechanism unreliable. There is an alternative termination mechanism built in that transaction mode that is automatically enabled when <span class="parmname">net.sf.ehcache.transaction.xa.alternativeTerminationMode</span> is set to true or when Atomikos is detected as the controlling transaction manager.</div><div id="ww3_12_3_19_28_3_8_6" class="Body">This alternative termination mode has strict requirement on the way threads are used by the transaction manager and Atomikos’s default settings will not work unless you configure the following property as shown below:</div><div id="ww3_12_3_19_28_3_8_8" class="Preformatted">com.atomikos.icatch.threaded_2pc=false</div><footer><!-- Related Topics --><!--                --><!-- Back to Top --><!--             --><!-- Disqus --><!--        --><!-- Google Translation --><!--                    --><br></footer><div><div style="font-family: Arial, Verdana, Helvetica, Sans-Serif; font-size: 11px; margin-top: 20px; margin-bottom: 20px;"><span class="xref"><a href="http://documentation.softwareag.com/legal/" target="external_window">Copyright © <span>2010</span><span>-2015</span><span></span><span></span> Software AG, Darmstadt, Germany</a></span>.</div><hr></div><div style="font-family: Arial, Verdana, Helvetica, Sans-Serif; font-size: 13px; font-weight: bold; margin-top: 20px;"><span><img style="vertical-align:middle" src="../connect/ehcache_online.png" alt="Product Logo"><!--	     <a href="https://empower.softwareag.com/ContactSupport/default.asp" target="_blank" >Contact&#160;Support</a> --><!--         &#160;&#160;|&#160;&#160;  --><!--         <a href="http://www.softwareag.com/corporate/community/default.asp" target="_blank" >Community</a>  --><!--         &#160;&#160;  -->
          |&nbsp;&nbsp;
        <a href="mailto://documentation@softwareag.com" target="_blank">Feedback&nbsp;&nbsp;</a></span></div></body></html>