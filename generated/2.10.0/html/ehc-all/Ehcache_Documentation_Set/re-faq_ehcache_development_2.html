<!DOCTYPE html ><html xml:lang="en" lang="en" xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html;charset=utf-8"><meta http-equiv="Content-Style-Type" content="text/css"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><meta http-equiv="X-UA-Compatible" content="IE=edge"><title>General Ehcache</title><link rel="Prev" href="re-faq_ehcache_development.html" title="Previous"><link rel="Next" href="re-faq_ehcache_development_3.html" title="Next"><link rel="StyleSheet" href="css/_ehcache_all.css" type="text/css" media="all"><link rel="StyleSheet" href="css/skin.css" type="text/css" media="all"><link rel="StyleSheet" href="css/social.css" type="text/css" media="all"><link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all"><!--[if IE 7]><link rel="StyleSheet" href="css/_ehcache_all_IE7.css" type="text/css" media="all"><![endif]--><link rel="StyleSheet" href="css/print.css" type="text/css" media="print"><script type="text/javascript">
    'use strict';

    var redirect_url, page_hash;

    if (window === window.top) {
        // Redirect
        //
        redirect_url = "../index.html#page/Ehcache_Documentation_Set/re-faq_ehcache_development_2.html";
        if (window.document.location.hash.length > 1) {
            // Sanitize and append it
            //
            page_hash = window.document.location.hash.substring(1);
            page_hash = page_hash.replace(/[\\><:;"]|%5C|%3C|%3E|%3A|%3B|%22/gi, '');
            redirect_url += '#' + page_hash;
        }
        window.document.location.replace(redirect_url);
    }
</script><script type="text/javascript" src="scripts/common.js"></script><script type="text/javascript" src="scripts/page.js"></script><script type="text/javascript" src="scripts/search-client.js"></script><script type="text/javascript" src="scripts/unidata.js"></script><script type="text/javascript" src="scripts/unibreak.js"></script></head><body id="pbPRn_002fX1VCFEMsZrhqbNkjw" class="ww_skin_page_body" onload="Page.OnLoad('../index.html#page/Ehcache_Documentation_Set/re-faq_ehcache_development_2.html');"><header id="wwconnect_header"><div class="ww_skin_breadcrumbs"><span class="ww_skin_breadcrumbs_parent"><a href="../Ehcache_Documentation_Set/to-title_ehcache_faq.html#wwconnect_header">FAQ</a></span><span class="ww_skin_breadcrumbs_divider"> : </span><span class="ww_skin_breadcrumbs_parent"><a href="../Ehcache_Documentation_Set/re-faq_ehcache_development.html#wwconnect_header">Questions about Development</a></span><span class="ww_skin_breadcrumbs_divider"> : </span><span class="ww_skin_breadcrumbs_current">General Ehcache</span></div><div class="ww_skin_page_toolbar"></div></header><div id="ww3_17_8_4_2" class="Heading_2">General Ehcache</div><div id="ww3_17_8_4_4_2_2" class="Section_Title">Can I use Ehcache as a memory cache only?</div><div id="ww3_17_8_4_4_2_4" class="Body">Yes. Just set the persistence strategy of cache to “none.”</div><div id="ww3_17_8_4_4_4_2" class="Section_Title">Can I use Ehcache as a disk cache only?</div><div id="ww3_17_8_4_4_4_4" class="Body">As of Ehcache 2.0, this is not possible. You can set the <span class="parmname">maxEntriesLocalHeap</span> to 1, but setting the <span class="parmname">maxSize</span> to 0 now gives an infinite capacity.</div><div id="ww3_17_8_4_4_6_2" class="Section_Title">Is it thread-safe to modify element values after retrieval from a Cache?</div><div id="ww3_17_8_4_4_6_4" class="Body">Remember that a value in a cache element is globally accessible from multiple threads. It is inherently not thread-safe to modify the value. It is safer to retrieve a value, delete the cache element, and then reinsert the value. The <span class="xref"><a href="http://ehcache.org/apidocs/2.10/net/sf/ehcache/constructs/blocking/UpdatingCacheEntryFactory.html" target="external_window">UpdatingCacheEntryFactory</a></span> does work by modifying the contents of values in place in the cache. This is outside of the core of Ehcache and is targeted at high performance CacheEntryFactories for SelfPopulatingCaches.</div><div id="ww3_17_8_4_4_8_2" class="Section_Title">Can non-Serializable objects be stored in a cache?</div><div id="ww3_17_8_4_4_8_4" class="Body">As of Ehcache 1.2, they can be stored in caches with MemoryStores. If an attempt is made to replicate or overflow a non-serializable element to disk, the element is removed and a warning is logged.</div><div id="ww3_17_8_4_4_10_2" class="Section_Title">What is the difference between TTL, TTI, and eternal?</div><div id="ww3_17_8_4_4_10_4" class="Body">These are three cache attributes that can be used to build an effective eviction configuration. It is advised to test and tune these values to help optimize cache performance. The <span class="parmname">timeToIdleSeconds</span> parameter (TTI) is the maximum number of seconds that an element can exist in the cache without being accessed. The <span class="parmname">timeToLiveSeconds</span> parameter (TTL) is the maximum number of seconds that an element can exist in the cache whether or not is has been accessed. If the <span class="parmname">eternal</span> flag is set, elements are allowed to exist in the cache eternally and none are evicted. The eternal setting overrides any TTI or TTL settings. These attributes are set for the entire cache in the configuration file. If you want to set them per element, you must do it programmatically. For more information, see <span class="apiname-only"><a href="../Ehcache_Documentation_Set/to-life_managing_data_life.html#wwconnect_header" title="Managing Data Life">Managing Data Life</a></span> in the <span class="Citation">Ehcache Configuration Guide</span>.</div><div id="ww3_17_8_4_4_12_2" class="Section_Title">What happens when maxEntriesLocalHeap is reached? Are the oldest items expired when new ones come in?</div><div id="ww3_17_8_4_4_12_4" class="Body">When the maximum number of elements in memory is reached, the Least Recently Used (LRU) element is removed. “Used” in this case means inserted with a put() or accessed with a get(). If the cache is not configured with a persistence strategy, the LRU element is evicted. If the cache is configured for “localTempSwap,” the LRU element is flushed asynchronously to the DiskStore.</div><div id="ww3_17_8_4_4_14_2" class="Section_Title">Why is there an expiry thread for the DiskStore but not for the MemoryStore?</div><div id="ww3_17_8_4_4_14_4" class="Body">Because the MemoryStore has a fixed maximum number of elements, it will have a maximum memory use equal to the number of elements multiplied by the average size. When an element is added beyond the maximum size, the LRU element gets pushed into the DiskStore. While we could have an expiry thread to expire elements periodically, it is far more efficient to only check when we need to. The tradeoff is higher average memory use. The expiry thread keeps the DiskStore clean. There is less contention for the DiskStore's locks, because commonly used values are in the MemoryStore. We mount our DiskStore on Linux using RAMFS, so it is using OS memory. While we have more of this than the 2GB 32-bit process size limit, it is still an expensive resource. The DiskStore thread keeps it under control. If you are concerned about CPU utilization and locking in the DiskStore, you can set the <span class="parmname">diskExpiryThreadIntervalSeconds</span> to a high number, such as 1 day. Or, you can effectively turn it off by setting the <span class="parmname">diskExpiryThreadIntervalSeconds</span> to a very large value.</div><footer><!-- Related Topics --><!--                --><!-- Back to Top --><!--             --><!-- Disqus --><!--        --><!-- Google Translation --><!--                    --><br></footer><div><div style="font-family: Arial, Verdana, Helvetica, Sans-Serif; font-size: 11px; margin-top: 20px; margin-bottom: 20px;"><span class="xref"><a href="http://documentation.softwareag.com/legal/" target="external_window">Copyright © <span>2010</span><span>-2015</span><span></span><span></span> Software AG, Darmstadt, Germany</a></span>.</div><hr></div><div style="font-family: Arial, Verdana, Helvetica, Sans-Serif; font-size: 13px; font-weight: bold; margin-top: 20px;"><span><img style="vertical-align:middle" src="../connect/ehcache_online.png" alt="Product Logo"><!--	     <a href="https://empower.softwareag.com/ContactSupport/default.asp" target="_blank" >Contact&#160;Support</a> --><!--         &#160;&#160;|&#160;&#160;  --><!--         <a href="http://www.softwareag.com/corporate/community/default.asp" target="_blank" >Community</a>  --><!--         &#160;&#160;  -->
          |&nbsp;&nbsp;
        <a href="mailto://documentation@softwareag.com" target="_blank">Feedback&nbsp;&nbsp;</a></span></div></body></html>