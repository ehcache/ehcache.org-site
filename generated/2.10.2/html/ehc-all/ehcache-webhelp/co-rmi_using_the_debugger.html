<!DOCTYPE html ><html xml:lang="en" lang="en" xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html;charset=utf-8"><meta http-equiv="Content-Style-Type" content="text/css"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><meta http-equiv="X-UA-Compatible" content="IE=edge"><title>Using the Debugger</title><link rel="Prev" href="co-rmi_about_the_remote_debugger.html" title="Previous"><link rel="Next" href="to-pubhead_ehcache_recipes.html" title="Next"><link rel="StyleSheet" href="css/_ehcache_all.css" type="text/css" media="all"><link rel="StyleSheet" href="css/skin.css" type="text/css" media="all"><link rel="StyleSheet" href="css/social.css" type="text/css" media="all"><link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all"><!--[if IE 7]><link rel="StyleSheet" href="css/_ehcache_all_IE7.css" type="text/css" media="all"><![endif]--><link rel="StyleSheet" href="css/print.css" type="text/css" media="print"><script type="text/javascript">
    'use strict';

    var redirect_url, page_hash;

    if (window === window.top) {
        // Redirect
        //
        redirect_url = "../index.html#page/ehcache-webhelp/co-rmi_using_the_debugger.html";
        if (window.document.location.hash.length > 1) {
            // Sanitize and append it
            //
            page_hash = window.document.location.hash.substring(1);
            page_hash = page_hash.replace(/[\\><:;"]|%5C|%3C|%3E|%3A|%3B|%22/gi, '');
            redirect_url += '#' + page_hash;
        }
        window.document.location.replace(redirect_url);
    }
</script><script type="text/javascript" src="scripts/common.js"></script><script type="text/javascript" src="scripts/page.js"></script><script type="text/javascript" src="scripts/search-client.js"></script><script type="text/javascript" src="scripts/unidata.js"></script><script type="text/javascript" src="scripts/unibreak.js"></script></head><body id="puU7hWZeKz1aQvG0j1rmQSQ" class="ww_skin_page_body" onload="Page.OnLoad('../index.html#page/ehcache-webhelp/co-rmi_using_the_debugger.html');"><header id="wwconnect_header"><div class="ww_skin_breadcrumbs"><span class="ww_skin_breadcrumbs_parent"><a href="../ehcache-webhelp/_ehcache_all.1.016.html#wwconnect_header">Product Documentation</a></span><span class="ww_skin_breadcrumbs_divider"> : </span><span class="ww_skin_breadcrumbs_parent"><a href="../ehcache-webhelp/to-title_ehcache_operations_guide.html#wwconnect_header">Ehcache Operations Guide</a></span><span class="ww_skin_breadcrumbs_divider"> : </span><span class="ww_skin_breadcrumbs_parent"><a href="../ehcache-webhelp/to-rmi_debugging_replicated_caches.html#wwconnect_header">Debugging and Monitoring Replicated Caches</a></span><span class="ww_skin_breadcrumbs_divider"> : </span><span class="ww_skin_breadcrumbs_current">Using the Debugger</span></div><div class="ww_skin_page_toolbar"></div></header><div id="ww3_12_7_15_8_1" class="Heading_3">Using the Debugger</div><div id="ww3_12_7_15_8_3_2" class="Body">It is invoked as follows:</div><div id="ww3_12_7_15_8_3_4" class="Preformatted">java -jar ehcache-debugger-1.5.0.jar ehcache.xml sampleCache1 path_to_ehcache.xml <br>[cacheToMonitor]</div><div id="ww3_12_7_15_8_3_6" class="Body">It takes one or two arguments:</div><div id="ww3_12_7_15_8_3_8_2" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="bullet.gif" alt="*" border="0" width="10" height="10"></span></span>the first argument, which is mandatory, is the Ehcache configuration file e.g. app/config/ehcache.xml. This file should be configured to allow Ehcache to join the cluster. Using one of the existing ehcache.xml files from the other nodes normally is sufficient.</div><div id="ww3_12_7_15_8_3_8_4" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="bullet.gif" alt="*" border="0" width="10" height="10"></span></span>the second argument, which is optional, is the name of the cache e.g. distributedCache1</div><div id="ww3_12_7_15_8_3_10" class="Body">If only the first argument is passed, it will print our a list of caches with replication configured from the configuration file, which are then available for monitoring. If the second argument is also provided, the debugger will monitor cache operations received for the given cache. This is done by registering a CacheEventListener which prints out each operation.</div><div class="ww_skin_page_overflow"><table class="note1" summary=""><tr><td class="Table_Cell" style="padding-right: 6px; vertical-align: top"><div id="ww3_12_7_15_8_3_12_1_3_1_1_1" class="Note"><span style="font-weight: bold">Note:  </span>&nbsp;</div></td><td class="Table_Cell" style="padding-right: 6px; vertical-align: top"><div id="ww3_12_7_15_8_3_12_1_3_1_2" class="Table_Cell">Use the Class-Path attribute inside a manifest file to add any additional libraries to the debugger's classpath. Be sure to leave a blank line at the end of the file. Following is an example of Class-Path attribute inside a manifest file (showing two separate JARs added to the classpath):</div><div id="ww3_12_7_15_8_3_12_1_3_1_2_2" class="Preformatted">Class-Path: lib/my.jar lib/myLoggerjar</div></td></tr></table></div><div id="ww3_12_7_15_8_3_14_2" class="Section_Title">Output</div><div id="ww3_12_7_15_8_3_14_4" class="Body">When monitoring a cache it prints a list of caches with replication configured, prints notifications as they happen, and periodically prints the cache name, size and total events received. See sample output below which is produced when the RemoteDebuggerTest is run.</div><div id="ww3_12_7_15_8_3_14_6" class="Preformatted">Caches with replication configured which are available for monitoring are: <br>  sampleCache19 sampleCache20 sampleCache26 sampleCache42 sampleCache33 <br>  sampleCache51 sampleCache40 sampleCache32 sampleCache18 sampleCache25 <br>  sampleCache9 sampleCache15 sampleCache56 sampleCache31 sampleCache7 <br>  sampleCache12 sampleCache17 sampleCache45 sampleCache41 sampleCache30 <br>  sampleCache13 sampleCache46 sampleCache4 sampleCache36 sampleCache29 <br>  sampleCache50 sampleCache37 sampleCache49 sampleCache48 sampleCache38 <br>  sampleCache6 sampleCache2 sampleCache55 sampleCache16 sampleCache27 <br>  sampleCache11 sampleCache3 sampleCache54 sampleCache28 sampleCache10 <br>  sampleCache8 sampleCache47 sampleCache5 sampleCache53 sampleCache39 <br>  sampleCache23 sampleCache34 sampleCache22 sampleCache44 sampleCache52 <br>  sampleCache24 sampleCache35 sampleCache21 sampleCache43 sampleCache1 <br>  Monitoring cache: sampleCache1 <br>  Cache: sampleCache1 Notifications received: 0 Elements in cache: 0 <br>  Received put notification for element [ key = this is an id, value=this is <br>  a value, version=1, hitCount=0, CreationTime = 1210656023456, <br>  LastAccessTime = 0 ] <br>  Received update notification for element [ key = this is an id, value=this <br>  is a value, version=1210656025351, hitCount=0, CreationTime = <br>  1210656024458, LastAccessTime = 0 ] <br>  Cache: sampleCache1 Notifications received: 2 Elements in cache: 1 <br>  Received remove notification for element this is an id <br>  Received removeAll notification.</div><div id="ww3_12_7_15_8_3_16_2" class="Section_Title">Providing more Detailed Logging</div><div id="ww3_12_7_15_8_3_16_4" class="Body">If you see nothing happening, but cache operations should be going through, enable trace (LOG4J) or finest (JDK) level logging on net.sf.ehcache.distribution in the logging configuration being used by the debugger. A large volume of log messages will appear. The normal problem is that the CacheManager has not joined the cluster. Look for the list of cache peers.</div><div id="ww3_12_7_15_8_3_18_2" class="Section_Title">Yes, but I still have a cluster problem</div><div id="ww3_12_7_15_8_3_18_4" class="Body">Check the FAQ, where a lot of commonly reported errors and their solutions are provided. Beyond that, post to the forums or mailing list or contact Ehcache for support.</div><footer><!-- Related Topics --><!--                --><!-- Back to Top --><!--             --><!-- Disqus --><!--        --><!-- Google Translation --><!--                    --><br></footer><div><div style="font-family: Arial, Verdana, Helvetica, Sans-Serif; font-size: 11px; margin-top: 20px; margin-bottom: 20px;"><span class="xref"><a href="http://documentation.softwareag.com/legal/" target="external_window">Copyright Â© <span>2010</span><span>-2016</span><span></span><span></span> Software AG, Darmstadt, Germany</a></span>.</div><hr></div><div style="font-family: Arial, Verdana, Helvetica, Sans-Serif; font-size: 13px; font-weight: bold; margin-top: 20px;"><span><img style="vertical-align:middle" src="../connect/ehcache_online.png" alt="Product Logo"><!--	     <a href="https://empower.softwareag.com/ContactSupport/default.asp" target="_blank" >Contact&#160;Support</a> --><!--         &#160;&#160;|&#160;&#160;  --><!--         <a href="http://www.softwareag.com/corporate/community/default.asp" target="_blank" >Community</a>  --><!--         &#160;&#160;  -->
          |&nbsp;&nbsp;
        <a href="mailto://documentation@softwareag.com" target="_blank">Feedback&nbsp;&nbsp;</a></span></div></body></html>