<!DOCTYPE html ><html xml:lang="en" lang="en" xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html;charset=utf-8"><meta http-equiv="Content-Style-Type" content="text/css"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><meta http-equiv="X-UA-Compatible" content="IE=edge"><title>General Ehcache</title><link rel="Prev" href="re-faq_ehcache_operations.html" title="Previous"><link rel="Next" href="re-faq_ehcache_operations_3.html" title="Next"><link rel="StyleSheet" href="css/ehcache_all.css" type="text/css" media="all"><link rel="StyleSheet" href="css/skin.css" type="text/css" media="all"><link rel="StyleSheet" href="css/social.css" type="text/css" media="all"><link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all"><!--[if IE 7]><link rel="StyleSheet" href="css/ehcache_all_IE7.css" type="text/css" media="all"><![endif]--><link rel="StyleSheet" href="css/print.css" type="text/css" media="print"><script type="text/javascript">
    'use strict';

    var redirect_url, page_hash;

    if (window === window.top) {
        // Redirect
        //
        redirect_url = "../index.html#page/ehcache-webhelp/re-faq_ehcache_operations_2.html";
        if (window.document.location.hash.length > 1) {
            // Sanitize and append it
            //
            page_hash = window.document.location.hash.substring(1);
            page_hash = page_hash.replace(/[\\><:;"]|%5C|%3C|%3E|%3A|%3B|%22/gi, '');
            redirect_url += '#' + page_hash;
        }
        window.document.location.replace(redirect_url);
    }
</script><script type="text/javascript" src="scripts/common.js"></script><script type="text/javascript" src="scripts/page.js"></script><script type="text/javascript" src="scripts/search-client.js"></script><script type="text/javascript" src="scripts/unidata.js"></script><script type="text/javascript" src="scripts/unibreak.js"></script></head><body id="pGgayEos6502BDpJBfXTPGA" class="ww_skin_page_body" onload="Page.OnLoad('../index.html#page/ehcache-webhelp/re-faq_ehcache_operations_2.html');"><header id="wwconnect_header"><div class="ww_skin_breadcrumbs"><span class="ww_skin_breadcrumbs_parent"><a href="../ehcache-webhelp/to-title_ehcache_faq.html#wwconnect_header">FAQ</a></span><span class="ww_skin_breadcrumbs_divider"> : </span><span class="ww_skin_breadcrumbs_parent"><a href="../ehcache-webhelp/re-faq_ehcache_operations.html#wwconnect_header">Questions about Operations</a></span><span class="ww_skin_breadcrumbs_divider"> : </span><span class="ww_skin_breadcrumbs_current">General Ehcache</span></div><div class="ww_skin_page_toolbar"></div></header><div id="ww3_17_12_4_2" class="Heading_2">General Ehcache</div><div id="ww3_17_12_4_4_2_2" class="Section_Title">How do you get an element without affecting statistics?</div><div id="ww3_17_12_4_4_2_4" class="Body">Use the Cache.getQuiet() method. It returns an element without updating statistics.</div><div id="ww3_17_12_4_4_4_2" class="Section_Title">Is there a simple way to disable Ehcache when testing?</div><div id="ww3_17_12_4_4_4_4" class="Body">Set the system property <span class="parmname">net.sf.ehcache.disabled=true</span> to disable Ehcache. This can easily be done using <span class="parmname">-Dnet.sf.ehcache.disabled=true</span> in the command line. If Ehcache is disabled, no elements will be added to a cache.</div><div id="ww3_17_12_4_4_6_2" class="Section_Title">How do I dynamically change cache attributes at runtime?</div><div id="ww3_17_12_4_4_6_4" class="Body">This is not possible. However, you can achieve the same result as follows:</div><div id="ww3_17_12_4_4_6_6_2_3" class="Numbered_1"><span class="WebWorks_Number" style="width: 18pt"><span>1. </span></span>Create a new cache:</div><div id="ww3_17_12_4_4_6_6_2_5" class="Preformatted_1">Cache cache = new Cache("test2", 1, true, true, 0, 0, true, 120, ...); <br>cacheManager.addCache(cache);</div><div id="ww3_17_12_4_4_6_6_2_7" class="Numbered_1_Continued">See the Javadoc for the full parameters.</div><div id="ww3_17_12_4_4_6_6_4_3" class="Numbered_1"><span class="WebWorks_Number" style="width: 18pt"><span>2. </span></span>Get a list of keys using cache.getKeys(), then get each element and put it in the new cache.</div><div id="ww3_17_12_4_4_6_6_4_5" class="Numbered_1_Continued">None of this will use much memory because the new cache elements have values that reference the same data as the original cache.</div><div id="ww3_17_12_4_4_6_6_6_3" class="Numbered_1"><span class="WebWorks_Number" style="width: 18pt"><span>3. </span></span>Use the cacheManager.removeCache("oldcachename") method to remove the original cache.</div><div id="ww3_17_12_4_4_8_2" class="Section_Title">Do you need to call CacheManager.getInstance().shutdown() when you finish with Ehcache?</div><div id="ww3_17_12_4_4_8_4" class="Body">Yes, it is recommended. If the JVM keeps running after you stop using Ehcache, you should call CacheManager.getInstance().shutdown() so that the threads are stopped and cache memory is released back to the JVM. However, if the CacheManager does not get shut down, it should not be a problem. There is a shutdown hook which calls the shutdown on JVM exit. For additional information, see <span class="heading-page"><a href="../ehcache-webhelp/to-shut_shutting_down_ehcache.html#wwconnect_header" title="Shutting Down Ehcache">Shutting Down Ehcache</a></span>.</div><div id="ww3_17_12_4_4_10_2" class="Section_Title">Can you use Ehcache after a CacheManager.shutdown()?</div><div id="ww3_17_12_4_4_10_4" class="Body">Yes. When you call CacheManager.shutdown() is sets the singleton in CacheManager to null. If you try an use a cache after this you will get a CacheException. You need to call CacheManager.create(). It will create a brand new one good to go. Internally the CacheManager singleton gets set to the new one. So you can create and shutdown as many times as you like. There is a test which explicitly confirms this behavior. See CacheManagerTest#testCreateShutdownCreate().</div><div id="ww3_17_12_4_4_12_2" class="Section_Title">Why are statistics counters showing 0 for active caches?</div><div id="ww3_17_12_4_4_12_4" class="Body">Statistics gathering is disabled by default in order to optimize performance. You can enable statistics gathering in caches in one of the following ways:</div><div id="ww3_17_12_4_4_12_6_2" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="bullet.gif" alt="*" border="0" width="10" height="10"></span></span>In cache configuration by adding <span class="parmname">statistics="true"</span> to the <span class="parmname">&lt;cache&gt;</span> element.</div><div id="ww3_17_12_4_4_12_6_4" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="bullet.gif" alt="*" border="0" width="10" height="10"></span></span>Programmatically when setting a cache's configuration.</div><div id="ww3_17_12_4_4_14_2" class="Section_Title">How do I detect deadlocks in Ehcache?</div><div id="ww3_17_12_4_4_14_4" class="Body">Ehcache does not experience deadlocks. However, deadlocks in your application code can be detected with certain tools, such as JConsole.</div><footer><!-- Related Topics --><!--                --><!-- Back to Top --><!--             --><!-- Disqus --><!--        --><!-- Google Translation --><!--                    --><br></footer><div><div style="font-family: Arial, Verdana, Helvetica, Sans-Serif; font-size: 11px; margin-top: 20px; margin-bottom: 20px;"><span class="xref"><a href="http://documentation.softwareag.com/legal/" target="external_window">Copyright Â© <span>2010</span><span>-2016</span><span></span><span></span> Software AG, Darmstadt, Germany</a></span>.</div><hr></div><div style="font-family: Arial, Verdana, Helvetica, Sans-Serif; font-size: 13px; font-weight: bold; margin-top: 20px;"><span><img style="vertical-align:middle" src="../connect/ehcache_online.png" alt="Product Logo"><!--	     <a href="https://empower.softwareag.com/ContactSupport/default.asp" target="_blank" >Contact&#160;Support</a> --><!--         &#160;&#160;|&#160;&#160;  --><!--         <a href="http://www.softwareag.com/corporate/community/default.asp" target="_blank" >Community</a>  --><!--         &#160;&#160;  -->
          |&nbsp;&nbsp;
        <a href="mailto://documentation@softwareag.com" target="_blank">Feedback&nbsp;&nbsp;</a></span></div></body></html>