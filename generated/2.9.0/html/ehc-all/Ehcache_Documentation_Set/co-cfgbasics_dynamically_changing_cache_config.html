<!DOCTYPE html ><html xml:lang="en" lang="en" xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html;charset=utf-8"><meta http-equiv="Content-Style-Type" content="text/css"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><meta http-equiv="X-UA-Compatible" content="IE=edge"><title>Dynamically Changing Cache Configuration</title><link rel="Prev" href="co-cfgbasics_xml_configuration.html" title="Previous"><link rel="Next" href="co-cfgbasics_passing_copies.html" title="Next"><link rel="StyleSheet" href="css/ehcache_all.css" type="text/css" media="all"><link rel="StyleSheet" href="css/skin.css" type="text/css" media="all"><link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all"><!--[if IE 7]><link rel="StyleSheet" href="css/ehcache_all_IE7.css" type="text/css" media="all"><![endif]--><link rel="StyleSheet" href="css/print.css" type="text/css" media="print"><script type="text/javascript" src="scripts/common.js"></script><script type="text/javascript" src="scripts/page.js"></script><script type="text/javascript" src="scripts/search-client.js"></script><script type="text/javascript" src="scripts/unidata.js"></script><script type="text/javascript" src="scripts/unibreak.js"></script></head><body id="pfgMzsBvEI_002bDqhCv7mbQwhQ" class="ww_skin_page_body" onload="Page.OnLoad('../index.html#page/Ehcache_Documentation_Set/co-cfgbasics_dynamically_changing_cache_config.html');"><header id="wwconnect_header"><div class="ww_skin_breadcrumbs"><span class="ww_skin_breadcrumbs_parent"><a href="../Ehcache_Documentation_Set/ehcache_all.1.017.html#wwconnect_header">Product Documentation</a></span><span class="ww_skin_breadcrumbs_divider"> : </span><span class="ww_skin_breadcrumbs_parent"><a href="../Ehcache_Documentation_Set/ehcache_all.1.121.html#wwconnect_header">Ehcache Configuration Guide</a></span><span class="ww_skin_breadcrumbs_divider"> : </span><span class="ww_skin_breadcrumbs_parent"><a href="../Ehcache_Documentation_Set/to-cfgbasics_configuring_cache.html#wwconnect_header">Configuring Cache</a></span><span class="ww_skin_breadcrumbs_divider"> : </span><span class="ww_skin_breadcrumbs_current">Dynamically Changing Cache Configuration</span></div><div class="ww_skin_page_toolbar"><!-- Twitter --><!--         --><!-- FaceBook Like --><!--               --><!-- LinkedIn Share --><!--                --><!-- Google +1 --><!--           --><!--        <a wwpage:condition="print-enabled" class="ww_behavior_print ww_skin ww_skin_print" title="Print" wwpage:attribute-title="navigation-print-title" href="#">&#160;</a>  --></div></header><div id="ww3_9_4_5_10_1" class="Heading_3">Dynamically Changing Cache Configuration</div><div id="ww3_9_4_5_10_3_2" class="Body">While most of the <span class="ph">Ehcache</span> configuration is not changeable after startup, <span class="ph"> since Ehcache 2.0, </span> certain cache configuration parameters can be modified dynamically at runtime. These include the following:</div><div id="ww3_9_4_5_10_3_4_2" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="bullet.gif" alt="*" border="0" width="10" height="10"></span></span>Expiration settings</div><div id="ww3_9_4_5_10_3_4_2_4_2_4" class="List_2"><span class="WebWorks_Number" style="width: 18pt"><span><img src="bullet.gif" alt="*" border="0" width="10" height="10"></span></span><span class="inlinetitle">timeToLive</span> – The maximum number of seconds an element can exist in the cache regardless of access. The element expires at this limit and will no longer be returned from the cache. The default value is 0, which means no TTL eviction takes place (infinite lifetime).</div><div id="ww3_9_4_5_10_3_4_2_4_4_4" class="List_2"><span class="WebWorks_Number" style="width: 18pt"><span><img src="bullet.gif" alt="*" border="0" width="10" height="10"></span></span><span class="inlinetitle">timeToIdle</span> – The maximum number of seconds an element can exist in the cache without being accessed. The element expires at this limit and will no longer be returned from the cache. The default value is 0, which means no TTI eviction takes place (infinite lifetime).</div><div id="ww3_9_4_5_10_3_4_2_6" class="List_1_Continued">Note that the <span class="parmname">eternal</span> attribute, when set to “true”, overrides <span class="parmname">timeToLive</span> and <span class="parmname">timeToIdle</span> so that no expiration can take place.</div><div id="ww3_9_4_5_10_3_4_4" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="bullet.gif" alt="*" border="0" width="10" height="10"></span></span>Local sizing attributes</div><div id="ww3_9_4_5_10_3_4_4_4_2" class="List_2"><span class="WebWorks_Number" style="width: 18pt"><span><img src="bullet.gif" alt="*" border="0" width="10" height="10"></span></span><span class="parmname">maxEntriesLocalHeap</span></div><div id="ww3_9_4_5_10_3_4_4_4_4" class="List_2"><span class="WebWorks_Number" style="width: 18pt"><span><img src="bullet.gif" alt="*" border="0" width="10" height="10"></span></span><span class="parmname">maxBytesLocalHeap</span></div><div id="ww3_9_4_5_10_3_4_4_4_6" class="List_2"><span class="WebWorks_Number" style="width: 18pt"><span><img src="bullet.gif" alt="*" border="0" width="10" height="10"></span></span><span class="parmname">maxEntriesLocalDisk</span></div><div id="ww3_9_4_5_10_3_4_4_4_8" class="List_2"><span class="WebWorks_Number" style="width: 18pt"><span><img src="bullet.gif" alt="*" border="0" width="10" height="10"></span></span><span class="parmname">maxBytesLocalDisk</span>.</div><div id="ww3_9_4_5_10_3_4_6" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="bullet.gif" alt="*" border="0" width="10" height="10"></span></span>memory-store eviction policy.</div><div id="ww3_9_4_5_10_3_4_8_4" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="bullet.gif" alt="*" border="0" width="10" height="10"></span></span>CacheEventListeners can be added and removed dynamically</div><div id="ww3_9_4_5_10_3_6" class="Body">This example shows how to dynamically modify the cache configuration of a running cache:</div><div id="ww3_9_4_5_10_3_8" class="Preformatted">Cache cache = manager.getCache("sampleCache"); <br>CacheConfiguration config = cache.getCacheConfiguration(); <br>config.setTimeToIdleSeconds(60); <br>config.setTimeToLiveSeconds(120); <br>config.setmaxEntriesLocalHeap(10000); <br>config.setmaxEntriesLocalDisk(1000000);</div><div id="ww3_9_4_5_10_3_10" class="Body">Dynamic cache configurations can also be disabled to prevent future changes:</div><div id="ww3_9_4_5_10_3_12" class="Preformatted">Cache cache = manager.getCache("sampleCache"); <br>cache.disableDynamicFeatures();</div><div id="ww3_9_4_5_10_3_14" class="Body">In ehcache.xml, you can disable dynamic configuration by setting the <span class="codeph">&lt;ehcache&gt;</span> element's <span class="codeph">dynamicConfig</span> attribute to “false”.</div><footer><!-- Related Topics --><!--                --><!-- Back to Top --><!--             --><!-- Disqus --><!--        --><!-- Google Translation --><!--                    --><br></footer><div><div style="font-family: Arial, Verdana, Helvetica, Sans-Serif; font-size: 11px; margin-top: 20px; margin-bottom: 20px;"><span class="xref"><a href="http://documentation.softwareag.com/legal/" target="external_window">Copyright © <span>2014</span><span> </span><span></span><span></span> Software AG, Darmstadt, Germany</a></span>.</div><hr><div style="font-family: Arial, Verdana, Helvetica, Sans-Serif; font-size: 13px; font-weight: bold; margin-top: 20px;"><span><img style="vertical-align:middle" src="../connect/product_online.png" alt="Product Logo"><!--	     <a href="https://empower.softwareag.com/ContactSupport/default.asp" target="_blank" >Contact&#160;Support</a> --><!--         &#160;&#160;|&#160;&#160;  --><!--         <a href="http://www.softwareag.com/corporate/community/default.asp" target="_blank" >Community</a>  --><!--         &#160;&#160;  -->
             |&nbsp;&nbsp;
         <a href="mailto://documentation@softwareag.com" target="_blank">Feedback&nbsp;&nbsp;</a></span></div></div></body></html>