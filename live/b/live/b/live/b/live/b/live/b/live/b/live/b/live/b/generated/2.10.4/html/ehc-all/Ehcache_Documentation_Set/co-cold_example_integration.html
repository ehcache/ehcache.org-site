<!DOCTYPE html ><html xml:lang="en" lang="en" xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html;charset=utf-8"><meta http-equiv="Content-Style-Type" content="text/css"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><meta http-equiv="X-UA-Compatible" content="IE=edge"><title>Example Integration</title><link rel="Prev" href="co-cold_about_coldfusion_and_ehcache.html" title="Previous"><link rel="Next" href="to-spr_using_ehcache_with_spring.html" title="Next"><link rel="StyleSheet" href="css/aaa_ehcache_all.css" type="text/css" media="all"><link rel="StyleSheet" href="css/skin.css" type="text/css" media="all"><link rel="StyleSheet" href="css/social.css" type="text/css" media="all"><link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all"><!--[if IE 7]><link rel="StyleSheet" href="css/aaa_ehcache_all_IE7.css" type="text/css" media="all"><![endif]--><link rel="StyleSheet" href="css/print.css" type="text/css" media="print"><script type="text/javascript">
    'use strict';

    var redirect_url, page_hash;

    if (window === window.top) {
        // Redirect
        //
        redirect_url = "../index.html#page/Ehcache_Documentation_Set/co-cold_example_integration.html";
        if (window.document.location.hash.length > 1) {
            // Sanitize and append it
            //
            page_hash = window.document.location.hash.substring(1);
            page_hash = page_hash.replace(/[\\><:;"]|%5C|%3C|%3E|%3A|%3B|%22/gi, '');
            redirect_url += '#' + page_hash;
        }
        window.document.location.replace(redirect_url);
    }
</script><script type="text/javascript" src="scripts/common.js"></script><script type="text/javascript" src="scripts/page.js"></script><script type="text/javascript" src="scripts/search-client.js"></script><script type="text/javascript" src="scripts/unidata.js"></script><script type="text/javascript" src="scripts/unibreak.js"></script></head><body id="pXYaDhMWR14vO_002bGNH4TXuTg" class="ww_skin_page_body" onload="Page.OnLoad('../index.html#page/Ehcache_Documentation_Set/co-cold_example_integration.html');"><header id="wwconnect_header"><div class="ww_skin_breadcrumbs"><span class="ww_skin_breadcrumbs_parent"><a href="../Ehcache_Documentation_Set/to-title_related_documentation.html#wwconnect_header">Related Documentation</a></span><span class="ww_skin_breadcrumbs_divider"> : </span><span class="ww_skin_breadcrumbs_parent"><a href="../Ehcache_Documentation_Set/to-title_ehcache_integrations.html#wwconnect_header">Integrations</a></span><span class="ww_skin_breadcrumbs_divider"> : </span><span class="ww_skin_breadcrumbs_parent"><a href="../Ehcache_Documentation_Set/to-cold_using_ehcache_with_coldfusion.html#wwconnect_header">Using Ehcache with ColdFusion</a></span><span class="ww_skin_breadcrumbs_divider"> : </span><span class="ww_skin_breadcrumbs_current">Example Integration</span></div><div class="ww_skin_page_toolbar"></div></header><div id="ww3_17_12_9_7_1" class="Heading_3">Example Integration</div><div id="ww3_17_12_9_7_2_2" class="Body">To integrate Ehcache with ColdFusion, first add the Ehcache jars to your web application lib directory.</div><div id="ww3_17_12_9_7_2_4" class="Body">The following code demonstrates how to call Ehcache from ColdFusion. It will cache a ColdFusion object in Ehcache and set the expiration time to 30 seconds. If you refresh the page many times within 30 seconds, you will see the data from cache. After 30 seconds, you will see a cache miss, then the code will generate a new object and put it in cache again.</div><div id="ww3_17_12_9_7_2_6" class="Preformatted">&lt;CFOBJECT type="JAVA" class="net.sf.ehcache.CacheManager" name="cacheManager"&gt; <br>&lt;cfset cache=cacheManager.getInstance().getCache("MyBookCache")&gt; <br>&lt;cfset myBookElement=#cache.get("myBook")#&gt; <br>&lt;cfif IsDefined("myBookElement")&gt; <br>   &lt;cfoutput&gt; <br>    myBookElement: #myBookElement#&lt;br /&gt; <br>   &lt;/cfoutput&gt; <br>   &lt;cfif IsStruct(myBookElement.getObjectValue())&gt; <br>           &lt;strong&gt;Cache Hit&lt;/strong&gt;&lt;p/&gt; <br>           &lt;!-- Found the object from cache --&gt; <br>           &lt;cfset myBook = #myBookElement.getObjectValue()#&gt; <br>   &lt;/cfif&gt; <br>&lt;/cfif&gt; <br>&lt;cfif IsDefined("myBook")&gt; <br>&lt;cfelse&gt; <br>&lt;strong&gt;Cache Miss&lt;/strong&gt; <br>   &lt;!-- object not found in cache, go ahead create it --&gt; <br>   &lt;cfset myBook = StructNew()&gt; <br>   &lt;cfset a = StructInsert(myBook, "cacheTime", LSTimeFormat(Now(), 'hh:mm:sstt'), 1)&gt; <br>   &lt;cfset a = StructInsert(myBook, "title", "EhCache Book", 1)&gt; <br>   &lt;cfset a = StructInsert(myBook, "author", "Greg Luck", 1)&gt; <br>   &lt;cfset a = StructInsert(myBook, "ISBN", "ABCD123456", 1)&gt; <br>   &lt;CFOBJECT type="JAVA" class="net.sf.ehcache.Element" name="myBookElement"&gt; <br>   &lt;cfset myBookElement.init("myBook", myBook)&gt; <br>   &lt;cfset cache.put(myBookElement)&gt; <br>&lt;/cfif&gt; <br>&lt;cfoutput&gt; <br>Cache time: #myBook["cacheTime"]#&lt;br /&gt; <br>Title: #myBook["title"]#&lt;br /&gt; <br>Author: #myBook["author"]#&lt;br /&gt; <br>ISBN: #myBook["ISBN"]# <br>&lt;/cfoutput&gt;</div><footer><!-- Related Topics --><!--                --><!-- Back to Top --><!--             --><!-- Disqus --><!--        --><!-- Google Translation --><!--                    --><br></footer><div><div style="font-family: Arial, Verdana, Helvetica, Sans-Serif; font-size: 11px; margin-top: 20px; margin-bottom: 20px;"><span class="xref"><a href="http://documentation.softwareag.com/legal/" target="external_window">Copyright Â© <span>2010</span><span>-2017</span><span></span><span></span> Software AG, Darmstadt, Germany</a></span>. <span style="text-align: right">(Innovation Release)</span></div><hr></div><div style="font-family: Arial, Verdana, Helvetica, Sans-Serif; font-size: 13px; font-weight: bold; margin-top: 20px;"><span><img style="vertical-align:middle" src="../connect/ehcache_online.png" alt="Product Logo"><!--	     <a href="https://empower.softwareag.com/ContactSupport/default.asp" target="_blank" >Contact&#160;Support</a> --><!--         &#160;&#160;|&#160;&#160;  --><!--         <a href="http://www.softwareag.com/corporate/community/default.asp" target="_blank" >Community</a>  --><!--         &#160;&#160;  -->
          |&nbsp;&nbsp;
        <a href="mailto://documentation@softwareag.com" target="_blank">Feedback&nbsp;&nbsp;</a></span></div></body></html>
